type: custom:vertical-stack-in-card
cards:
  - type: custom:mushroom-template-card
    primary: Zolder
    icon: mdi:home-floor-2
    icon_color: blue
    layout: horizontal
    secondary: >-
      {{ states('sensor.zolder_temp') ~ 'Â°C' if states('sensor.zolder_temp') | is_number }}
    tap_action:
      action: navigate
      navigation_path: zolder
  - type: custom:vertical-stack-in-card
    horizontal: true
    cards:
      - type: custom:mushroom-template-card
        entity: light.groep_zolder
        layout: vertical
        icon: >-
          {%- if is_state('light.groep_zolder', 'on') %}
            mdi:lightbulb-group
          {%- else %}
            mdi:lightbulb-group-off
          {%- endif %}
        icon_color: >-
          {%- if is_state('light.groep_zolder', 'on') %}
            yellow
          {%- endif %}
      - type: custom:mushroom-template-card
        entity: switch.groep_zolder
        layout: vertical
        icon: >-
          {%- if is_state('switch.groep_zolder', 'on') %}
            mdi:toggle-switch-variant
          {%- else %}
            mdi:toggle-switch-variant-off
          {%- endif %}
        icon_color: >-
          {%- if is_state('switch.groep_zolder', 'on') %}
            yellow
          {%- endif %}
      - type: conditional
        conditions:
          - entity: sensor.wasmachine
            state: "on"
        card:
          type: custom:stack-in-card
          cards:
            - type: custom:mushroom-template-card
              icon: mdi:washing-machine
              entity: sensor.wasmachine
              layout: vertical
              icon_color: yellow
              card_mod:
                style:
                  mushroom-shape-icon$: |
                    ha-icon {
                      clip-path: polygon(0 0, 0 100%, 35% 100%, 34% 68%, 60% 41%, 71% 56%, 65% 74%, 47% 79%, 32% 69%, 35% 100%, 100% 100%, 100% 0);
                    }
            - type: custom:mushroom-template-card
              icon: mdi:washing-machine
              entity: sensor.wasmachine
              icon_color: yellow
              layout: vertical
              card_mod:
                style:
                  mushroom-shape-icon$: |
                    ha-icon {
                      --icon-animation: spin 1s linear infinite;
                      transform-origin: 50% 58%;
                      clip-path: circle(21.7% at 50% 58%);
                    }
                    .shape {
                      --shape-color: none;
                    }
                  .: |
                    ha-card {
                      width: 50px;
                      top: -66px;
                    }
          card_mod:
            style: |
              ha-card {
                height: 66px;
              }
      - type: conditional
        conditions:
          - entity: media_player.groep_zolder
            state_not: "off"
          - entity: media_player.groep_zolder
            state_not: "idle"
        card:
          type: custom:mushroom-template-card
          layout: vertical
          entity: media_player.groep_zolder
          icon: mdi:cast
          icon_color: >-
            {%- set s = expand('media_player.groep_zolder') | map(attribute='state') | list %}
            {%- if 'playing' in s %}
              yellow
            {%- elif is_state('media_player.groep_zolder', 'unavailable') %}
              red
            {%- endif %}
